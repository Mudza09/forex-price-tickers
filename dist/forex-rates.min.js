/* forex-rates.min.js | https://mudza09.github.io/forex-rates | Zainal Mudzakir | MIT License */
function forexRates(e){this.defaults={apiKey:"",selector:".forex-rates",childSelector:"li",pairs:["XAUUSD","GBPUSD","EURUSD"],upClass:"price-up",downClass:"price-down",resolution:"D",autoReload:!1,interval:6e4},this.options={};for(let t in this.defaults)void 0!==t&&(this.options[t]=this.defaults[t],e.hasOwnProperty(t)&&this.options.hasOwnProperty(t)&&(this.options[t]=e[t]));async function t(e){const t=Math.trunc((new Date).setDate((new Date).getDate()-function(){let e=1;return 6==(new Date).getDay()?e=2:0!=(new Date).getDay()&&1!=(new Date).getDay()||(e=3),e}())/1e3),o=Math.trunc(new Date/1e3);for(let s=0;s<e.length;s++){const n=[e[s].substring(0,3),e[s].substring(3,6)],i=`https://finnhub.io/api/v1/forex/candle?symbol=OANDA:${n[0]}_${n[1]}&resolution=${this.options.resolution}&from=${t}&to=${o}&token=${this.options.apiKey}`;fetch(i).then(e=>{if(!e.ok)throw Error(e.status);return e.json()}).then(e=>{const t=e.c[e.c.length-1];let o,n=(t-e.c[0])/t*100;n=n>0?`+${n.toFixed(2)}%`:`${n.toFixed(2)}%`,e.c[0]<e.c[e.c.length-1]?document.querySelectorAll(".uk-label")[s].classList.add(this.options.upClass):document.querySelectorAll(".uk-label")[s].classList.add(this.options.downClass),o=e.c[0]<e.c[e.c.length-1]?"&#8599;":"&#8600;",document.querySelectorAll(".uk-label")[s].innerHTML=`${o} ${t} <small>${n}</small>`}).catch(e=>{401==e.message?document.querySelectorAll(".uk-label")[s].innerHTML="api key error":429==e.message?document.querySelectorAll(".uk-label")[s].innerHTML="limit exceeded":document.querySelectorAll(".uk-label")[s].innerHTML="connection error"})}}!function(){const e=document.querySelector(this.options.selector);this.options.pairs.forEach(function(t){const o=document.createElement(this.options.childSelector);o.innerHTML=`${t} <span class="uk-label">loading...</span>`,e.appendChild(o)}),t(this.options.pairs),!this.options.autoReload||0!=!(new Date).getDay()&&6!=!(new Date).getDay()||setInterval(()=>{!function(){const e=document.querySelector(this.options.selector).children;for(let t=0;t<e.length;t++)e[t].children[0].classList.remove(this.options.upClass),e[t].children[0].classList.remove(this.options.downClass)}(),t(this.options.pairs)},this.options.interval)}()}