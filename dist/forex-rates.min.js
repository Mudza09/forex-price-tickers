/* forex-rates.min.js | https://mudza09.github.io/forex-rates | Zainal Mudzakir | MIT License */
function forexRates(a){function b(){let a=1;return 6==new Date().getDay()?a=2:(0==new Date().getDay()||1==new Date().getDay())&&(a=3),a}function c(){const a=document.querySelector(this.options.selector).children;for(let b=0;b<a.length;b++)a[b].children[0].classList.remove(this.options.upClass),a[b].children[0].classList.remove(this.options.downClass)}async function d(a){const c=Math.trunc(new Date().setDate(new Date().getDate()-b())/1e3),d=Math.trunc(new Date/1e3);for(let b=0;b<a.length;b++){const e=[a[b].substring(0,3),a[b].substring(3,6)],f=`https://finnhub.io/api/v1/forex/candle?symbol=OANDA:${e[0]}_${e[1]}&resolution=${this.options.resolution}&from=${c}&to=${d}&token=${this.options.apiKey}`;fetch(f).then(a=>{if(!a.ok)throw Error(a.status);return a.json()}).then(a=>{const c=a.c[a.c.length-1],d=a.c[0];let e=100*((c-d)/c);e=0<e?`+${e.toFixed(2)}%`:`${e.toFixed(2)}%`,a.c[0]<a.c[a.c.length-1]?document.querySelectorAll(".uk-label")[b].classList.add(this.options.upClass):document.querySelectorAll(".uk-label")[b].classList.add(this.options.downClass);let f;f=a.c[0]<a.c[a.c.length-1]?"&#8599;":"&#8600;",document.querySelectorAll(".uk-label")[b].innerHTML=`${f} ${c} <small>${e}</small>`}).catch(a=>{document.querySelectorAll(".uk-label")[b].innerHTML=401==a.message?"api key error":429==a.message?"limit exceeded":"connection error"})}}for(let b in this.defaults={apiKey:"",selector:".forex-rates",childSelector:"li",pairs:["XAUUSD","GBPUSD","EURUSD"],upClass:"price-up",downClass:"price-down",resolution:"D",autoReload:!1,interval:6e4},this.options={},this.defaults)"undefined"!=typeof b&&(this.options[b]=this.defaults[b],a.hasOwnProperty(b)&&this.options.hasOwnProperty(b)&&(this.options[b]=a[b]));(function(){const a=document.querySelector(this.options.selector),b=0==new Date().getDay()||6==new Date().getDay();this.options.pairs.forEach(function(b){const c=document.createElement(this.options.childSelector);c.innerHTML=`${b} <span class="uk-label">loading...</span>`,a.appendChild(c)}),d(this.options.pairs),this.options.autoReload&&!b&&setInterval(()=>{c(),d(this.options.pairs)},this.options.interval)})()}